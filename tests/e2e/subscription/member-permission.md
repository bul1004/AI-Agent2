### メンバー権限でのサブスクリプション制限 (`member-permission`)

- メンバー権限のユーザーはサブスクリプションを管理できないことを確認（閲覧のみ可能）

#### テストケース

| テスト名                                         | 確認事項                                                         |
| ------------------------------------------------ | ---------------------------------------------------------------- |
| `メンバー権限ではサブスクボタンがグレーアウトされる` | 「管理者に連絡してください」ボタン（無効）、警告メッセージ表示   |
| `メンバー権限でもプラン詳細は閲覧できる`         | プラン名、料金、特典リスト、返金保証が表示される                 |

#### 手順（サブスクボタンのグレーアウト確認）

1. シードデータのメンバーユーザー（e2e-member@example.com）でログイン
2. サイドバーのプロフィールボタンをクリック
3. 「E2E Test Team」を選択してチームモードに切り替え
4. 再度プロフィールボタンをクリック
5. 「プランをアップグレード」メニューをクリック
6. モーダルが開き、以下が表示されることを確認:
   - 「サブスクリプションの管理は管理者またはオーナーのみが行えます」警告メッセージ
   - 「管理者に連絡してください」ボタン（無効状態、クリック不可）

#### 手順（プラン詳細の閲覧確認）

1. シードデータのメンバーユーザーでログイン
2. チームモードに切り替え
3. サブスクリプションモーダルを開く
4. 以下が表示されることを確認（閲覧は可能）:
   - 「Businessプラン」のプラン名
   - 「¥9,800」の料金
   - 「30日間返金保証」のテキスト

#### 前提条件

- シードデータが投入済み（`supabase db reset`）

#### 使用するシードデータ

| ロール | メール                 | パスワード          | 組織          |
| ------ | ---------------------- | ------------------- | ------------- |
| member | e2e-member@example.com | E2eTestPassword123! | E2E Test Team |

#### 使用するページオブジェクト

| クラス        | 用途                                   |
| ------------- | -------------------------------------- |
| `BillingPage` | サブスクリプションモーダルの操作・検証 |

#### 使用するヘルパー関数

| 関数名                 | 用途                                     |
| ---------------------- | ---------------------------------------- |
| `loginAsUser`          | シードデータのユーザーでログイン         |
| `switchToOrganization` | チームモード（E2E Test Team）に切り替え  |

#### 備考

- シードデータのユーザーを使用するため、afterEachでのクリーンアップは不要
- メンバー権限の判定は `useSubscription` フックの `canManageSubscription` で行われる
- 権限チェックはフロントエンド（UI無効化）とバックエンド（API拒否）の両方で実施
- セキュリティ上、メンバーがAPIを直接叩いても課金は拒否される

